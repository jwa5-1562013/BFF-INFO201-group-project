#install packages
library("dplyr")
library("data.table")
library("bit64")
#Read separated data files
resultA <- fread(file = "resultA.csv", stringsAsFactors = FALSE, header = TRUE)
resultB <- fread(file = "resultB.csv", stringsAsFactors = FALSE, header = TRUE)
resultC <- fread(file = "resultC.csv", stringsAsFactors = FALSE, header = TRUE)
resultD <- fread(file = "resultD.csv", stringsAsFactors = FALSE, header = TRUE)
#merge four files into one
results.df <- rbind(resultA, resultB, resultC, resultD)
# ESR(employment status) is 1 - employed, 2 - employed but not at work, 3 - unemployed, 4,5,6 - other conditions
results.df$EMPLOYMENT <- ifelse(results.df$ESR == 1 | results.df$ESR == 2 , 1, 0)
# WKHP is Usual hours worked per week past 12 months, if it's bigger than 35, it is a fulltime job, smaller than 35 is parttime job
results.df$FULLORPART <- ifelse(results.df$WKHP > 35, 1, 0)
#ESR(employment status) of 3 is unemployed
results.df$UNEMPLOYED <- ifelse(results.df$ESR == 3, 1, 0)
# All ages with a bachelors degree
all.ages <- filter(results.df, results.df$SCHL == 21)
# Those with above a bachelors degree
grad.degree <- filter(results.df, results.df$SCHL > 21)
# Females with bachelors degree
female <- filter(results.df, results.df$SEX == 2 & results.df$SCHL == 21)
# Males with bachelors degree
male <- filter(results.df, results.df$SEX == 1 & results.df$SCHL == 21)
# Summarize employment statistics
summarizeFunction <- function(df) {
group_by(df, Major) %>%
summarise(
total_majors  = n(),
number_employed = sum(EMPLOYMENT == 1 ),
number_unemployed = sum(UNEMPLOYED == 1)
)
}
#Summarize earning statistics
summarizeEarningsFunction <- function(df) {
group_by(df, Major) %>%
filter(EMPLOYMENT != 0) %>%
summarise(
mean_earnings = mean(PERNP),
median_earnings = median(PERNP),
two.five <- quantile(PERNP, .25),
seven.five <- quantile(PERNP, .75)
)
}
# Summarized by major
male.employment.sum <- summarizeFunction(male)
female.employment.sum <- summarizeFunction(female)
grad.employment.sum <- summarizeFunction(grad.degree)
all.ages.employment.sum <- summarizeFunction(all.ages)
male.earnings.sum <- summarizeEarningsFunction(male)
female.earnings.sum <- summarizeEarningsFunction(female)
grad.earnings.sum <- summarizeEarningsFunction(grad.degree)
all.ages.earnings.sum <- summarizeEarningsFunction(all.ages)
total.male.sum <- merge(male.earnings.sum,male.employment.sum, by = "Major")
total.female.sum <- merge(female.earnings.sum,female.employment.sum, by = "Major")
total.grad.sum <- merge(grad.earnings.sum,grad.employment.sum, by = "Major")
total.all.ages.sum <- merge(all.ages.earnings.sum,all.ages.employment.sum, by = "Major")
total.male.sum$unemployment_rate <- round((total.male.sum$number_unemployed / total.male.sum$number_employed) * 100, 1)
total.female.sum$unemployment_rate <- round((total.female.sum$number_unemployed / total.female.sum$number_employed) *100, 1)
total.grad.sum$unemployment_rate <- round((total.grad.sum$number_unemployed/ total.grad.sum$number_unemployed) * 100, 1 )
total.all.ages.sum$unemployment_rate <- round((total.all.ages.sum$number_unemployed / total.all.ages.sum$number_employed) * 100, 1)
#write results to csv files
write.csv(total.male.sum, file = "major-data-sum/sum-male.csv", row.names = FALSE )
write.csv(total.female.sum, file = "major-data-sum/sum-female.csv", row.names = FALSE)
write.csv(total.grad.sum, file = "major-data-sum/sum-grad.csv", row.names = FALSE)
write.csv(total.all.ages.sum, file = "major-data-sum/sum-all.csv", row.names = FALSE)
install.packages("bit64")
#Read separated data files
resultA <- fread(file = "resultA.csv", stringsAsFactors = FALSE, header = TRUE)
#Read separated data files
resultA <- fread(file = "datasetA/resultA.csv", stringsAsFactors = FALSE, header = TRUE)
#Read separated data files
resultA <- fread(file = "data/resultA.csv", stringsAsFactors = FALSE, header = TRUE)
resultB <- fread(file = "data/resultB.csv", stringsAsFactors = FALSE, header = TRUE)
resultC <- fread(file = "data/resultC.csv", stringsAsFactors = FALSE, header = TRUE)
resultD <- fread(file = "data/resultD.csv", stringsAsFactors = FALSE, header = TRUE)
#merge four files into one
results.df <- rbind(resultA, resultB, resultC, resultD)
# ESR(employment status) is 1 - employed, 2 - employed but not at work, 3 - unemployed, 4,5,6 - other conditions
results.df$EMPLOYMENT <- ifelse(results.df$ESR == 1 | results.df$ESR == 2 , 1, 0)
# WKHP is Usual hours worked per week past 12 months, if it's bigger than 35, it is a fulltime job, smaller than 35 is parttime job
results.df$FULLORPART <- ifelse(results.df$WKHP > 35, 1, 0)
#ESR(employment status) of 3 is unemployed
results.df$UNEMPLOYED <- ifelse(results.df$ESR == 3, 1, 0)
# All ages with a bachelors degree
all.ages <- filter(results.df, results.df$SCHL == 21)
# Those with above a bachelors degree
grad.degree <- filter(results.df, results.df$SCHL > 21)
# Females with bachelors degree
female <- filter(results.df, results.df$SEX == 2 & results.df$SCHL == 21)
# Males with bachelors degree
male <- filter(results.df, results.df$SEX == 1 & results.df$SCHL == 21)
summarizeFunction <- function(df) {
group_by(df, Major) %>%
summarise(
total_majors  = n(),
number_employed = sum(EMPLOYMENT == 1 ),
number_unemployed = sum(UNEMPLOYED == 1)
)
}
#Summarize earning statistics
summarizeEarningsFunction <- function(df) {
group_by(df, Major) %>%
filter(EMPLOYMENT != 0) %>%
summarise(
mean_earnings = mean(PERNP),
median_earnings = median(PERNP),
two.five <- quantile(PERNP, .25),
seven.five <- quantile(PERNP, .75)
)
}
# Summarized by major
male.employment.sum <- summarizeFunction(male)
female.employment.sum <- summarizeFunction(female)
grad.employment.sum <- summarizeFunction(grad.degree)
all.ages.employment.sum <- summarizeFunction(all.ages)
male.earnings.sum <- summarizeEarningsFunction(male)
female.earnings.sum <- summarizeEarningsFunction(female)
grad.earnings.sum <- summarizeEarningsFunction(grad.degree)
all.ages.earnings.sum <- summarizeEarningsFunction(all.ages)
total.male.sum <- merge(male.earnings.sum,male.employment.sum, by = "Major")
total.female.sum <- merge(female.earnings.sum,female.employment.sum, by = "Major")
total.grad.sum <- merge(grad.earnings.sum,grad.employment.sum, by = "Major")
total.all.ages.sum <- merge(all.ages.earnings.sum,all.ages.employment.sum, by = "Major")
total.male.sum$unemployment_rate <- round((total.male.sum$number_unemployed / total.male.sum$number_employed) * 100, 1)
total.female.sum$unemployment_rate <- round((total.female.sum$number_unemployed / total.female.sum$number_employed) *100, 1)
total.grad.sum$unemployment_rate <- round((total.grad.sum$number_unemployed/ total.grad.sum$number_unemployed) * 100, 1 )
total.all.ages.sum$unemployment_rate <- round((total.all.ages.sum$number_unemployed / total.all.ages.sum$number_employed) * 100, 1)
#write results to csv files
write.csv(total.male.sum, file = "sum_male.csv", row.names = FALSE )
write.csv(total.female.sum, file = "sum_female.csv", row.names = FALSE)
write.csv(total.grad.sum, file = "sum_grad.csv", row.names = FALSE)
write.csv(total.all.ages.sum, file = "sum_all.csv", row.names = FALSE)
View(total.all.ages.sum)
View(total.female.sum)
View(total.grad.sum)
View(total.male.sum)
all_ages <- fread(file = "sum_all.csv", stringsAsFactors = FALSE, header = TRUE)
all_ages_2010_2012 <- fread(file = "all_ages_2010_2012.csv", stringsAsFactors = FALSE, header = TRUE)
male <- fread(file = "sum_male.csv", stringsAsFactors = FALSE, header = TRUE)
female <- fread(file = "sum_female.csv", stringsAsFactors = FALSE, header = TRUE)
grad <- fread(file = "sum_grad.csv", stringsAsFactors = FALSE, header = TRUE)
library("dplyr")
?merge
library("data.table")
View(all_ages)
View(all_ages_2010_2012)
all_ages_comparison <- merge(all_ages, all_ages_2010_2012, by = "Major")
View(all_ages_comparison)
all_ages_2012_2016 <- select("Major", "median_earnings", "unemployment_rate")
all_ages_2012_2016 <- select(all_ages, "Major", "median_earnings", "unemployment_rate")
View(all_ages_2012_2016)
all_ages_2012_2016 <- select(all_ages, "Major", "median_earnings", "unemployment_rate") %>%
mutate("median_earnings" = "Median_2016", "unemployment_rate" = "Unemployment_rate_2016")
View(all_ages_2012_2016)
colnames(all_ages_2012_2016)[c(2,3)] <- c("Median_2016", "Unemployement_rate_2016")
all_ages_2010_2012 <- select(all_ages_2010_2012, "Major", "Median" == "Median_2012", "Unemployment_rate")
all_ages_2010_2012 <- select(all_ages_2010_2012, "Major", "Median" = "Median_2012", "Unemployment_rate")
all_ages_2010_2012 <- select(all_ages_2010_2012, "Major", "Median", "Unemployment_rate")
View(all_ages_2010_2012)
all_ages <- fread(file = "sum_all.csv", stringsAsFactors = FALSE, header = TRUE)
all_ages_2012_2016 <- select(all_ages, "Major", "median_earnings", "unemployment_rate")
colnames(all_ages_2012_2016)[c(2,3)] <- c("Median_2016", "Unemployement_rate_2016")
all_ages_2010_2012 <- select(all_ages_2010_2012, "Major", "Median", "Unemployment_rate") %>%
mutate(Unemployment_rate = round(Unemployment_rate * 100, 1))
colnames(all_ages_2010_2012)[c(2,3)] <- c("Median_2012", "Unemployment_rate_2012")
all_ages_comparison <- merge(all_ages_2010_2012, all_ages_2012_2016, by = "Major")
View(all_ages_comparison)
all_ages_comparison <- merge(all_ages_2010_2012, all_ages_2012_2016, by = "Major") %>%
mutate(Median_difference = Median_2016 - Median_2012, Unemployment_rate_difference = Unemployment_rate_2016 - Unemployment_rate_2012)
colnames(all_ages_2012_2016)[c(2,3)] <- c("Median_2016", "Unemployment_rate_2016")
all_ages_comparison <- merge(all_ages_2010_2012, all_ages_2012_2016, by = "Major") %>%
mutate(Median_difference = Median_2016 - Median_2012, Unemployment_rate_difference = Unemployment_rate_2016 - Unemployment_rate_2012)
View(all_ages_2010_2012)
View(male)
View(female)
View(grad)
#Read separated data files
resultA <- fread(file = "data/resultA.csv", stringsAsFactors = FALSE, header = TRUE)
View(resultA)
# Recent grads (age < 28) with a bachelors degree
recent.grads <- filter(results.df, results.df$AGEP < 28)
resultB <- fread(file = "data/resultB.csv", stringsAsFactors = FALSE, header = TRUE)
resultC <- fread(file = "data/resultC.csv", stringsAsFactors = FALSE, header = TRUE)
resultD <- fread(file = "data/resultD.csv", stringsAsFactors = FALSE, header = TRUE)
#merge four files into one
results.df <- rbind(resultA, resultB, resultC, resultD)
# ESR(employment status) is 1 - employed, 2 - employed but not at work, 3 - unemployed, 4,5,6 - other conditions
results.df$EMPLOYMENT <- ifelse(results.df$ESR == 1 | results.df$ESR == 2 , 1, 0)
# WKHP is Usual hours worked per week past 12 months, if it's bigger than 35, it is a fulltime job, smaller than 35 is parttime job
results.df$FULLORPART <- ifelse(results.df$WKHP > 35, 1, 0)
#ESR(employment status) of 3 is unemployed
results.df$UNEMPLOYED <- ifelse(results.df$ESR == 3, 1, 0)
# All ages with a bachelors degree
all.ages <- filter(results.df, results.df$SCHL == 21)
# Those with above a bachelors degree
grad.degree <- filter(results.df, results.df$SCHL > 21)
# Females with bachelors degree
female <- filter(results.df, results.df$SEX == 2 & results.df$SCHL == 21)
# Males with bachelors degree
male <- filter(results.df, results.df$SEX == 1 & results.df$SCHL == 21)
# Recent grads (age < 28) with a bachelors degree
recent.grads <- filter(results.df, results.df$AGEP < 28)
# Summarized by major
male.employment.sum <- summarizeFunction(male)
summarizeFunction <- function(df) {
group_by(df, Major) %>%
summarise(
total_majors  = n(),
number_employed = sum(EMPLOYMENT == 1 ),
number_unemployed = sum(UNEMPLOYED == 1)
)
}
#Summarize earning statistics
summarizeEarningsFunction <- function(df) {
group_by(df, Major) %>%
filter(EMPLOYMENT != 0) %>%
summarise(
mean_earnings = mean(PERNP),
median_earnings = median(PERNP),
two.five <- quantile(PERNP, .25),
seven.five <- quantile(PERNP, .75)
)
}
# Summarized by major
male.employment.sum <- summarizeFunction(male)
female.employment.sum <- summarizeFunction(female)
grad.employment.sum <- summarizeFunction(grad.degree)
all.ages.employment.sum <- summarizeFunction(all.ages)
recent.grads.sum <- summarizeFunction(recent.grads)
male.earnings.sum <- summarizeEarningsFunction(male)
female.earnings.sum <- summarizeEarningsFunction(female)
grad.earnings.sum <- summarizeEarningsFunction(grad.degree)
all.ages.earnings.sum <- summarizeEarningsFunction(all.ages)
recent.grads.sum <- summarizeEarningsFunction(recent.grads)
total.male.sum <- merge(male.earnings.sum,male.employment.sum, by = "Major")
total.female.sum <- merge(female.earnings.sum,female.employment.sum, by = "Major")
total.grad.sum <- merge(grad.earnings.sum,grad.employment.sum, by = "Major")
total.all.ages.sum <- merge(all.ages.earnings.sum,all.ages.employment.sum, by = "Major")
total.male.sum$unemployment_rate <- round((total.male.sum$number_unemployed / total.male.sum$number_employed) * 100, 1)
total.female.sum$unemployment_rate <- round((total.female.sum$number_unemployed / total.female.sum$number_employed) *100, 1)
total.grad.sum$unemployment_rate <- round((total.grad.sum$number_unemployed/ total.grad.sum$number_unemployed) * 100, 1 )
total.all.ages.sum$unemployment_rate <- round((total.all.ages.sum$number_unemployed / total.all.ages.sum$number_employed) * 100, 1)
recent.grads.employment.sum <- summarizeFunction(recent.grads)
recent.grads.earnings.sum <- summarizeEarningsFunction(recent.grads)
total.recent.grads.sum <- merge(recent.grads.earnings.sum, recent.grads.employment.sum, by = "Major")
View(total.recent.grads.sum)
total.recent.grads.sum$unemployment_rate <- round((total.recent.grads.sum$number_unemployed / total.recent.grads.sum$number_employed) * 100, 1)
write.csv(total.recent.grads.sum, file = "recent.grads.csv", row.names = FALSE)
write.csv(total.recent.grads.sum, file = "recent_grads.csv", row.names = FALSE)
recent.grads <- fread(file = "recent_grads.csv", stringsAsFactors = FALSE, header = TRUE)
all_ages <- fread(file = "sum_all.csv", stringsAsFactors = FALSE, header = TRUE)
all_ages_2010_2012 <- fread(file = "all_ages_2010_2012.csv", stringsAsFactors = FALSE, header = TRUE)
male <- fread(file = "sum_male.csv", stringsAsFactors = FALSE, header = TRUE)
female <- fread(file = "sum_female.csv", stringsAsFactors = FALSE, header = TRUE)
grad <- fread(file = "sum_grad.csv", stringsAsFactors = FALSE, header = TRUE)
recent.grads <- fread(file = "recent_grads.csv", stringsAsFactors = FALSE, header = TRUE)
recent_grads_2012_2016 <- select(recent_grads, "Major", "median_earnings", "unemployment_rate")
recent_grads <- fread(file = "recent_grads.csv", stringsAsFactors = FALSE, header = TRUE)
recent_grads_2012_2016 <- select(recent_grads, "Major", "median_earnings", "unemployment_rate")
colnames(all_ages_2012_2016)[c(2,3)] <- c("Median_2016", "Unemployment_rate_2016")
colnames(recent_grads_2012_2016)[c(2,3)] <- c("Median_2016", "Unemployment_rate_2016")
recent_grads_2010_2012 <- fread(file = "all_ages_2010_2012.csv", stringsAsFactors = FALSE, header = TRUE)
all_ages <- fread(file = "sum_all.csv", stringsAsFactors = FALSE, header = TRUE)
recent_grads_2010_2012 <- fread(file = "recent_grads_2010_2012.csv", stringsAsFactors = FALSE, header = TRUE)
male <- fread(file = "sum_male.csv", stringsAsFactors = FALSE, header = TRUE)
female <- fread(file = "sum_female.csv", stringsAsFactors = FALSE, header = TRUE)
grad <- fread(file = "sum_grad.csv", stringsAsFactors = FALSE, header = TRUE)
recent_grads <- fread(file = "recent_grads.csv", stringsAsFactors = FALSE, header = TRUE)
library("dplyr")
library("data.table")
recent_grads_2012_2016 <- select(recent_grads, "Major", "median_earnings", "unemployment_rate")
colnames(recent_grads_2012_2016)[c(2,3)] <- c("Median_2016", "Unemployment_rate_2016")
recent_grads_2010_2012 <- select(all_ages_2010_2012, "Major", "Median", "Unemployment_rate") %>%
mutate(Unemployment_rate = round(Unemployment_rate * 100, 1))
recent_grads_2010_2012 <- select(recent_grads_2010_2012, "Major", "Median", "Unemployment_rate") %>%
mutate(Unemployment_rate = round(Unemployment_rate * 100, 1))
colnames(recent_grads_2010_2012)[c(2,3)] <- c("Median_2012", "Unemployment_rate_2012")
recent_grads_comparison <- merge(recent_grads_2010_2012, recent_grads_2012_2016, by = "Major") %>%
mutate(Median_difference = Median_2016 - Median_2012, Unemployment_rate_difference = Unemployment_rate_2016 - Unemployment_rate_2012)
View(recent_grads_comparison)
library("dplyr")
library("data.table")
all_ages <- fread(file = "sum_all.csv", stringsAsFactors = FALSE, header = TRUE)
recent_grads_2010_2012 <- fread(file = "recent_grads_2010_2012.csv", stringsAsFactors = FALSE, header = TRUE)
male <- fread(file = "sum_male.csv", stringsAsFactors = FALSE, header = TRUE)
female <- fread(file = "sum_female.csv", stringsAsFactors = FALSE, header = TRUE)
grad <- fread(file = "sum_grad.csv", stringsAsFactors = FALSE, header = TRUE)
recent_grads <- fread(file = "recent_grads.csv", stringsAsFactors = FALSE, header = TRUE)
recent_grads_2012_2016 <- select(recent_grads, "Major", "median_earnings", "unemployment_rate")
colnames(recent_grads_2012_2016)[c(2,3)] <- c("Median_2016", "Unemployment_rate_2016")
recent_grads_2010_2012 <- select(recent_grads_2010_2012, "Major", "Median", "Unemployment_rate") %>%
mutate(Unemployment_rate = round(Unemployment_rate * 100, 1))
colnames(recent_grads_2010_2012)[c(2,3)] <- c("Median_2012", "Unemployment_rate_2012")
recent_grads_comparison <- merge(recent_grads_2010_2012, recent_grads_2012_2016, by = "Major") %>%
mutate(Median_difference = Median_2016 - Median_2012, Unemployment_rate_difference = Unemployment_rate_2016 - Unemployment_rate_2012)
View(recent_grads)
View(recent_grads)
total.grad.sum$unemployment_rate <- round((total.grad.sum$number_unemployed/ total.grad.sum$number_employed) * 100, 1 )
write.csv(total.grad.sum, file = "sum_grad.csv", row.names = FALSE)
#install packages
library("dplyr")
library("data.table")
library("bit64")
#Read separated data files
resultA <- fread(file = "data/resultA.csv", stringsAsFactors = FALSE, header = TRUE)
resultB <- fread(file = "data/resultB.csv", stringsAsFactors = FALSE, header = TRUE)
resultC <- fread(file = "data/resultC.csv", stringsAsFactors = FALSE, header = TRUE)
resultD <- fread(file = "data/resultD.csv", stringsAsFactors = FALSE, header = TRUE)
#merge four files into one
results.df <- rbind(resultA, resultB, resultC, resultD)
# ESR(employment status) is 1 - employed, 2 - employed but not at work, 3 - unemployed, 4,5,6 - other conditions
results.df$EMPLOYMENT <- ifelse(results.df$ESR == 1 | results.df$ESR == 2 , 1, 0)
# WKHP is Usual hours worked per week past 12 months, if it's bigger than 35, it is a fulltime job, smaller than 35 is parttime job
results.df$FULLORPART <- ifelse(results.df$WKHP > 35, 1, 0)
#ESR(employment status) of 3 is unemployed
results.df$UNEMPLOYED <- ifelse(results.df$ESR == 3, 1, 0)
# All ages with a bachelors degree
all.ages <- filter(results.df, results.df$SCHL == 21)
# Those with above a bachelors degree
grad.degree <- filter(results.df, results.df$SCHL > 21)
# Females with bachelors degree
female <- filter(results.df, results.df$SEX == 2 & results.df$SCHL == 21)
# Males with bachelors degree
male <- filter(results.df, results.df$SEX == 1 & results.df$SCHL == 21)
# Recent grads (age < 28) with a bachelors degree
recent.grads <- filter(results.df, results.df$AGEP < 28)
summarizeFunction <- function(df) {
group_by(df, Major) %>%
summarise(
total_majors  = n(),
number_employed = sum(EMPLOYMENT == 1 ),
number_unemployed = sum(UNEMPLOYED == 1)
)
}
#Summarize earning statistics
summarizeEarningsFunction <- function(df) {
group_by(df, Major) %>%
filter(EMPLOYMENT != 0) %>%
summarise(
mean_earnings = mean(PERNP),
median_earnings = median(PERNP),
two.five <- quantile(PERNP, .25),
seven.five <- quantile(PERNP, .75)
)
}
# Summarized by major
male.employment.sum <- summarizeFunction(male)
female.employment.sum <- summarizeFunction(female)
grad.employment.sum <- summarizeFunction(grad.degree)
all.ages.employment.sum <- summarizeFunction(all.ages)
recent.grads.employment.sum <- summarizeFunction(recent.grads)
male.earnings.sum <- summarizeEarningsFunction(male)
female.earnings.sum <- summarizeEarningsFunction(female)
grad.earnings.sum <- summarizeEarningsFunction(grad.degree)
all.ages.earnings.sum <- summarizeEarningsFunction(all.ages)
recent.grads.earnings.sum <- summarizeEarningsFunction(recent.grads)
total.male.sum <- merge(male.earnings.sum, male.employment.sum, by = "Major")
total.female.sum <- merge(female.earnings.sum, female.employment.sum, by = "Major")
total.grad.sum <- merge(grad.earnings.sum, grad.employment.sum, by = "Major")
total.all.ages.sum <- merge(all.ages.earnings.sum, all.ages.employment.sum, by = "Major")
total.recent.grads.sum <- merge(recent.grads.earnings.sum, recent.grads.employment.sum, by = "Major")
total.male.sum$unemployment_rate <- round((total.male.sum$number_unemployed / total.male.sum$number_employed) * 100, 1)
total.female.sum$unemployment_rate <- round((total.female.sum$number_unemployed / total.female.sum$number_employed) *100, 1)
total.grad.sum$unemployment_rate <- round((total.grad.sum$number_unemployed/ total.grad.sum$number_employed) * 100, 1 )
total.all.ages.sum$unemployment_rate <- round((total.all.ages.sum$number_unemployed / total.all.ages.sum$number_employed) * 100, 1)
total.recent.grads.sum$unemployment_rate <- round((total.recent.grads.sum$number_unemployed / total.recent.grads.sum$number_employed) * 100, 1)
#write results to csv files
write.csv(total.male.sum, file = "sum_male.csv", row.names = FALSE )
write.csv(total.female.sum, file = "sum_female.csv", row.names = FALSE)
write.csv(total.grad.sum, file = "sum_grad.csv", row.names = FALSE)
write.csv(total.all.ages.sum, file = "sum_all.csv", row.names = FALSE)
write.csv(total.recent.grads.sum, file = "recent_grads.csv", row.names = FALSE)
library("dplyr")
library("data.table")
all_ages <- fread(file = "sum_all.csv", stringsAsFactors = FALSE, header = TRUE)
recent_grads_2010_2012 <- fread(file = "recent_grads_2010_2012.csv", stringsAsFactors = FALSE, header = TRUE)
male <- fread(file = "sum_male.csv", stringsAsFactors = FALSE, header = TRUE)
female <- fread(file = "sum_female.csv", stringsAsFactors = FALSE, header = TRUE)
grad <- fread(file = "sum_grad.csv", stringsAsFactors = FALSE, header = TRUE)
recent_grads <- fread(file = "recent_grads.csv", stringsAsFactors = FALSE, header = TRUE)
recent_grads_2012_2016 <- select(recent_grads, "Major", "median_earnings", "unemployment_rate")
colnames(recent_grads_2012_2016)[c(2,3)] <- c("Median_2016", "Unemployment_rate_2016")
recent_grads_2010_2012 <- select(recent_grads_2010_2012, "Major", "Median", "Unemployment_rate") %>%
mutate(Unemployment_rate = round(Unemployment_rate * 100, 1))
colnames(recent_grads_2010_2012)[c(2,3)] <- c("Median_2012", "Unemployment_rate_2012")
recent_grads_comparison <- merge(recent_grads_2010_2012, recent_grads_2012_2016, by = "Major") %>%
mutate(Median_difference = Median_2016 - Median_2012, Unemployment_rate_difference = Unemployment_rate_2016 - Unemployment_rate_2012)
View(recent_grads_2012_2016)
#grad school premium analysis
grad <- select(grad, "Major", "median_earnings", "unemployment_rate") %>%
colnames()[c(2,3)] <- c("Median_grad", "Unemployment_rate_grad")
library("dplyr")
#grad school premium analysis
grad <- select(grad, "Major", "median_earnings", "unemployment_rate") %>%
colnames()[c(2,3)] <- c("Median_grad", "Unemployment_rate_grad")
#grad school premium analysis
grad <- select(grad, "Major", "median_earnings", "unemployment_rate")
colnames(grad)[c(2,3)] <- c("Median_grad", "Unemployment_rate_grad")
grad_comparison <- merge(recent_grads_2012_2016, grad, by = "Major")
View(grad_comparison)
colnames(recent_grads_2010_2012)[c(2,3)] <- c("Median_recent_grad", "Unemployment_rate_recent_grad")
grad_comparison <- merge(recent_grads_2012_2016, grad, by = "Major")
colnames(recent_grads_2012_2016)[c(2,3)] <- c("Median_recent_grad", "Unemployment_rate_recent_grad")
grad_comparison <- merge(recent_grads_2012_2016, grad, by = "Major")
View(all_ages)
grad_comparison <- merge(recent_grads_2012_2016, grad, by = "Major") %>%
mutate(Median_difference = Median_grad - Median_recent_grad)
grad_comparison <- merge(recent_grads_2012_2016, grad, by = "Major") %>%
mutate(Median_difference = Median_grad - Median_recent_grad, Unemployment_rate_difference = Unemployment_rate_grad - Unemployment_rate_recent_grad)
View(recent_grads)
# male vs female
male <- select(male, "Major", "median_Earnings", "unemployment_rate")
# male vs female
male <- select(male, "Major", "median_earnings", "unemployment_rate")
colnames(male)[c(2,3)] <- c("Median_male", "Unemployment_rate_male")
female <- select(female, "Major", "median_earnings", "unemployment_rate")
colnames(female)[c(2,3)] <- c("Median_female", "Unemployment_rate_female")
gender_comparison <- merge(male, female, by = "Major") %>%
mutate(Median_difference = Median_male - Median_female, Unemployment_rate_difference = Unemployment_rate_male - Unemployment_rate_female)
View(gender_comparison)
